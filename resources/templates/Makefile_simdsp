##################################################
# SimDSP Makefile
# Do not edit this file manually
##################################################

CC = gcc
CXX = g++
INCPATH =
LIBPATH =
LIBS =

SRCS 	= $(wildcard *.cpp)
OBJS 	= $(addprefix build/,$(subst .cpp,.o,$(SRCS)))

ifeq ($(OS),Windows_NT)
    CXXFLAGS 	= -O3 -Wall -std=c++11
    LDFLAGS	=
    TARGET 	= build/sdapp.exe
else
    CXXFLAGS 	= -O3 -Wall -fPIC -std=c++11
    LDFLAGS	=
    TARGET 	= build/sdapp
endif

.PHONY: all
all: $(TARGET)

$(TARGET): $(OBJS)
	$(CXX) $(LDFLAGS) $^ -o $@ $(LIBPATH) $(LIBS) -lsdcore -lrtaudio

build/%.o:%.cpp
	$(CXX) $(INCPATH) $(CXXFLAGS) -c $< -o $@

.PHONY: clean
clean:
ifeq ($(OS),Windows_NT)
	rmdir /S build
else
	rm -rf build
endif
