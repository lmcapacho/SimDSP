##################################################
# Project: SimDSP
# Name: Makefile
# Author: lmcapacho (lmcapacho@uniquindio.edu.co)
# Creation Date: 2017-01
# Last Modified: 2017-07
##################################################

CC        = gcc
CXX       = g++
LD       = ld
CXXFLAGS 	= -O3 -Wall 
LDFLAGS		= -shared 
TARGET_LIB 	= libsdcode.dll

SRCS 		= $(wildcard ../*.cpp)
OBJS 		= $(subst ../,,$(subst .cpp,.o,$(SRCS)))

.PHONY: all
all: $(TARGET_LIB)

$(TARGET_LIB): $(OBJS)
	$(CXX) $(LDFLAGS) $^ -lsdcore -o $@ 

%.o:../%.cpp
	$(CXX) $(CXXFLAGS) -c $< -o $@

.PHONY: clean
clean:
	del $(TARGET_LIB) *.o
